<HTML>
<HEAD>
<TITLE>SCOlib User Manual Version Version 1.0</TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!-- Generated by Doxygen 1.4.7 -->
<h2><a class="anchor" name="install">
Installation</a></h2>
<h3><a class="anchor" name="downloading">
Downloading</a></h3>
The SGOPT software can be downloaded either as a compressed tar file or directly from the SGOPT Concurrent Version System (CVS) repository. The latest release of SGOPT is available at <div class="fragment"><pre class="fragment">    http://www.cs.sandia.gov/~wehart/SGOPT
</pre></div> and earlier versions are available in the same directory.<p>
The CVS repository for SGOPT can be accessed by executing <div class="fragment"><pre class="fragment">    cvs -d :ext:GEUutili@gaston.cs.sandia.gov:/usr/local/cvs/cvsroot checkout sgopt
</pre></div> The password for this repository is 'anonymous'. The developer's password for this repository is restricted; please contact Bill Hart at <a href="mailto:wehart@sandia.gov">wehart@sandia.gov</a> to request the password to commit changes to this repository. If you are accessing this repository throught a firewall (e.g. Sandia's SRN firewall), or you expect to checkout updates frequently, then the script <code>cvs-s</code> can be used to encapsulate the access to the CVS repository. The <code>cvs-s</code> script can be downloaded at <div class="fragment"><pre class="fragment">    ftp://ftp.cs.sandia.gov/pub/papers/wehart/src/cvs-shells.tar
</pre></div> Note that this script uses the <code>ssh</code> command, version 1.x.<h3><a class="anchor" name="UNIXinstall">
Installation on Unix</a></h3>
Installation of SGOPT on UNIX systems is performed by the following steps: <ol>
<li>
Unpack the archive, unless you have already done that <div class="fragment"><pre class="fragment">    gunzip sgopt-$VERSION.tar.gz    # uncompress the archive
    tar xf sgopt-$VERSION.tar       # unpack it
</pre></div><p>
</li>
<li>
Move into the <code>sgopt</code> directory and run the configure script. <div class="fragment"><pre class="fragment">    ./configure
</pre></div><p>
The <code>configure</code> script automates much of the setup activity associated with building large suites of programs like SGOPT on various hardware platforms. This includes<p>
<ol>
<li>
making symbolic links so that files used for configuration can be accessed from one location </li>
<li>
generating Makefiles so that objects, libraries, executables and other 'targets' can be created for specific and unique hardware platforms </li>
<li>
calling itself recursively so that sub-directories can also be configured </li>
</ol>
<p>
By default, the configure script does not assume that SGOPT relies on any other software libraries. There are a number of configuration options that can be used to customize the installation. The full parameter list for the <code>configure</code> script is:<p>
<div class="fragment"><pre class="fragment">   configure hosttype [--target=target] [--srcdir=dir] [--rm]
                      [--site=site] [--prefix=dir] [--exec-prefix=dir]
                      [--program-prefix=string] [--tmpdir=dir]
                      [--with-package[=yes/no]] [--without-package]
                      [--enable-feature[=yes/no]] [--disable-feature]
                      [--norecursion] [--nfp] [-s] [-v] [-V | --version]
                      [--help]
</pre></div><p>
Many of these options are not necessary since system information can be often acquired from your local machine. Refer to the Cygnus <code>configure</code> documentation for complete information. The following options are either commonly used or specific to SGOPT (examples of arguments are provided):<p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<td>[--with-compiler=&lt;gcc,CC&gt;] </td><td>Sets up a specific compiler; The native compiler is the default.  <p>
</td></tr>
<tr>
<td>[--target=&lt;solaris&gt;]  </td><td>Optional flag to specify the target machine that you are cross-compiling for.  <p>
</td></tr>
<tr>
<td>[--site=&lt;snl980&gt;]  </td><td>Specifies the site-specific locations for MPI, etc.  <p>
</td></tr>
<tr>
<td>[--with-debugging]  </td><td>Turns on the DEBUGGING macro and sets the OPTIMIZATION macro to &lt;flag&gt; (code is compiled with -g by default).  <p>
</td></tr>
<tr>
<td>[--with-mpi]  </td><td>Turns on the use of the MPI package.  <p>
</td></tr>
<tr>
<td>[--with-mpe]  </td><td>Turns on the use of the MPE package.  <p>
</td></tr>
<tr>
<td>[--with-swig]  </td><td>Enables the use of swig to wrap SGOPT for use with the Python scripting language.  <p>
</td></tr>
<tr>
<td>[--with-static]  </td><td>Enables the compilation of statically linked libraries (the default).  <p>
</td></tr>
<tr>
<td>[--with-insure]  </td><td>Enables the compilation with the insure++ debugging tool.  <p>
</td></tr>
<tr>
<td>[--with-shared]  </td><td>Enables the compilation of dynamically linked libraries, which can be shared.  <p>
</td></tr>
<tr>
<td>[--with-optimization=&lt;level&gt;]  </td><td>Sets the optimization level used when compiling the source files. This is overridden by the --with-debugging flag.  <p>
</td></tr>
<tr>
<td>[--with-ansi]  </td><td>Sets up the compiler to use ANSI standard constructs for C++. (the default)  <p>
</td></tr>
<tr>
<td>[--with-ansiheaders]  </td><td>Creates flags that force the use of ANSI standard C++ header conventions. (the dfault)  <p>
</td></tr>
</table>
<p>
The configure script creates Makefiles from <code>Makefile.in</code> template files, which outline the basic `targets' that need to get built. Variables that are package, site or hardware dependent are stored in individual `fragment' files. These `fragment' files are added to the custom created Makefiles when users and code developers (recursively) configure this repository with specific host, target, package and/or site parameters.<p>
Running <code>configure</code> takes a while, so be patient. Verbose output will always be displayed unless the user/developer wishes to silence it by specifying the parameter, `--silent'. If you wish to configure only one level/directory, remember to use the option `--norecursion'. All generated "config.status" files include this parameter as a default for easy makefile re-generation; after editing a Makefile.in file, you can construct the associate Makefile file by typing <code>config.status</code>.<p>
After the <code>configure</code> command is completed, three files will be generated in each configured directory (specified by the file, `configure.in').<p>
<ol>
<li>
Makefile-${target}<p>
The suffix, ${target}, will depend on the target specified. Native builds have identical host and target values.<p>
</li>
<li>
Makefile<p>
This will be a symbolic link to the file mentioned above. A user or developer will simply type <code>make</code> and the last generated Makefile-${target} will then be referenced.<p>
</li>
<li>
config.status<p>
A `recording' of the configuration process (i.e., what commands were executed to generate the makefile). It can be used by the custom makefile to re-generate itself with a command such as this <div class="fragment"><pre class="fragment">    make Makefile.
</pre></div> </li>
</ol>
<p>
Fragment files exist so that <code>configure</code> can support multi-platform environments. SGOPT can be configured for code development and execution on the following platforms :<p>
<div class="fragment"><pre class="fragment">    SPARC-SUN-SOLARIS2.5.1   (Sun ULTRAsparc)
    MIPS-SGI-IRIX6.4         (SGI Octane)
    HPPA1.1-HP-HPUX9.05      (HP 9000/700 series)
    PENTIUM-INTEL-COUGAR     (Intel TFLOP supercomputer at SNL)
    i686-UNKNOWN-LINUX	     (Red Hat 7.1)
</pre></div><p>
The fragment files for these platforms and for the packages that SGOPT relies on are located in the <code>sgopt/config</code> directory. There are five types of files in this directory:<p>
<div class="fragment"><pre class="fragment">    mf-&lt;host&gt;-&lt;target&gt;-&lt;site&gt;
    Automatically generated by the configure scripts.

    mh-&lt;host&gt;
    Fragments that define the utilities provided by the host (e.g. the 
    definition of MAKE.

    mp-&lt;target&gt;-&lt;site&gt;
    Fragments that define information for the packages that are used by 
    SGOPT (e.g. MPI).

    ms-&lt;site&gt;
    Fragments that define the site-specific general configuration 
    information. If this does not exist for a given site, then the 
    default ms-default fragment is used.

    mt-&lt;target&gt;
    Fragments needed to specfy how to compile code for a target 
    architecture (e.g. compiler name/location).
</pre></div><p>
</li>
<li>
Compile the program by running make.<p>
<div class="fragment"><pre class="fragment">    make
</pre></div><p>
Note that the makefiles in SGOPT may not be portable to all <code>make</code> commands. However, they do work with the GNU <code>gmake</code> command. The latest file <code>Makefile-${target}</code> generated by <code>configure</code> will be referenced by this command. The target directory for the library is created for the particular target platform as a subdirectory of sgopt/lib.<p>
Prior to making object files header files are linked into the directory <code>sgopt/include</code>.<p>
</li>
<li>
Optional: Generate the html library documentation.<p>
<div class="fragment"><pre class="fragment">    make html
</pre></div><p>
This requires the <code>doxygen</code> utility.<p>
</li>
<li>
Optional: Generate the postscript version of the user manual.<p>
<div class="fragment"><pre class="fragment">    make ps
</pre></div><p>
This requires the <code>doxygen</code>, <code>latex</code>, and <code>dvips</code>.<p>
</li>
<li>
Optional: Generate the PDF version of the user manual.<p>
<div class="fragment"><pre class="fragment">    make pdf
</pre></div><p>
This requires the <code>doxygen</code>, <code>latex</code>, <code>dvips</code> and ghostscript packages.<p>
</li>
</ol>
<h3><a class="anchor" name="WINinstall">
Installation on Windows</a></h3>
SGOPT was originally developed under UNIX, but it has been ported to Windows NT using Microsoft's Visual C++ (version 6.0). A MSVC++ project is provided in <code>sgopt/src/vcpp</code>. This project defines a DLL that will be compiled for SGOPT, and it can be easily included in a user's workspace. The project file relies on the environmental variable `SGOPT', which is defined from the MS Windows Control Panel under <code>System/Environment</code>. This variable should be set to the path of the <code>sgopt</code> directory. Note: this project file is out of date. </BODY>
</HTML>
